# Qwen Orchestrator Framework - Core System

A modular, extensible framework for orchestrating AI agents with tmux integration.

## Overview

The Qwen Orchestrator Framework Core System is a comprehensive system for managing and coordinating multiple AI agents in a tmux-based environment. It provides a robust architecture for agent lifecycle management, communication, execution tracking, and monitoring.

This README documents only the core orchestrator system. For information about demo applications, see the [demos directory](demos/).

## Architecture

The framework is organized into several core modules:

### Core Modules

1. **Agent Management**
   - `agent_state_manager.py`: Manages agent states and lifecycle
   - `agent_factory.py`: Factory pattern implementation for creating agents
   - `agent_registry.py`: Central registry for all active agents

2. **Communication System**
   - `message_router.py`: Routes messages between agents and services
   - `protocol_enforcer.py`: Ensures message format and protocol compliance
   - `conversation_manager.py`: Manages multi-agent conversations

3. **Execution Tracking**
   - `execution_monitor.py`: Monitors agent task execution
   - `gap_detector.py`: Detects execution gaps and inconsistencies
   - `recovery_manager.py`: Manages recovery from execution failures

4. **Dashboard Monitoring**
   - `dashboard_manager.py`: Manages system dashboards and layouts
   - `metrics_collector.py`: Collects system metrics for visualization
   - `alert_system.py`: Handles system alerts and notifications

5. **Data Management**
   - `data_store.py`: Persistent storage for system data
   - `data_processor.py`: Processes and transforms data
   - `data_validator.py`: Validates data integrity and format

6. **Services**
   - **Authentication**
     - `auth_manager.py`: Handles user authentication and session management
     - `token_manager.py`: Manages authentication tokens
     - `user_manager.py`: Manages user accounts and profiles

## Key Features

- **Modular Design**: Clean separation of concerns with well-defined interfaces
- **Agent Orchestration**: Comprehensive agent lifecycle management
- **Communication Framework**: Structured messaging with protocol enforcement
- **Execution Monitoring**: Real-time tracking of agent tasks and performance
- **Dashboard System**: Customizable dashboards for system monitoring
- **Data Management**: Robust data storage, processing, and validation
- **Authentication & Authorization**: Secure user and agent authentication
- **Recovery Mechanisms**: Automated recovery from failures and gaps
- **Extensible Architecture**: Easy to extend with new modules and services

## System Integration

### Data Flow
1. Agents are created by `AgentFactory` and registered in `AgentRegistry`
2. Agents communicate through `MessageRouter` with protocol validation by `ProtocolEnforcer`
3. Multi-agent conversations are managed by `ConversationManager`
4. Task execution is monitored by `ExecutionMonitor` with gap detection by `GapDetector`
5. System metrics are collected by `MetricsCollector` and displayed by `DashboardManager`
6. Alerts are generated by `AlertSystem` based on metric thresholds
7. Data is stored, processed, and validated through the Data Management modules
8. Authentication is handled by the Authentication Service modules

### Key Design Patterns
1. **Factory Pattern**: Used in `AgentFactory` for creating agents
2. **Singleton Pattern**: Used in manager classes for system-wide coordination
3. **Observer Pattern**: Used in alerting and monitoring systems
4. **Strategy Pattern**: Used in recovery strategies and data transformations
5. **Dataclasses**: Used extensively for data modeling

## Extensibility Points

1. New agent types can be registered with `AgentFactory`
2. New message routes can be added to `MessageRouter`
3. New recovery strategies can be implemented from `RecoveryStrategy`
4. New data transformations can be implemented from `DataTransformation`
5. New validation rules can be implemented from `ValidationRule`

## Repository Structure

```
core/
├── agent_management/
│   ├── agent_factory.py
│   ├── agent_registry.py
│   └── agent_state_manager.py
├── communication_system/
│   ├── conversation_manager.py
│   ├── message_router.py
│   └── protocol_enforcer.py
├── dashboard_monitoring/
│   ├── alert_system.py
│   ├── dashboard_manager.py
│   └── metrics_collector.py
├── data_management/
│   ├── data_processor.py
│   ├── data_store.py
│   └── data_validator.py
├── execution_tracking/
│   ├── execution_monitor.py
│   ├── gap_detector.py
│   └── recovery_manager.py
services/
├── authentication/
│   ├── auth_manager.py
│   ├── token_manager.py
│   └── user_manager.py
├── notification/
└── project_management/
```

## Requirements

- Python 3.8+
- tmux
- Required Python packages (see `requirements.txt`)

## Usage

1. Ensure all requirements are installed
2. Run the integration tests to verify the framework is working correctly
3. Extend with custom modules as needed for specific use cases

## Documentation

- [Core Orchestrator Summary](core_orchestrator_summary.md) - Detailed overview of core components
- [Separation Plan](separation_plan.md) - Plan for separating demo applications from core system
- [Architecture Summary](docs/architecture_summary.md) - High-level architecture overview

## Contributing

This framework is designed to be extended and customized. New modules can be added following the existing patterns and interfaces.

For information about adding demo applications, see the [demos directory](demos/).